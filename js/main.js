var h=null;window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.onload=function(){h=new k;var b=document.getElementById("pinned_top");b.style.top=Math.floor(window.innerHeight/2-b.getBoundingClientRect().height/2)+"px";document.getElementById("content").classList.add("glow");window.requestAnimationFrame(l)};
window.addEventListener("resize",function(){m(h);var b=document.getElementById("pinned_top"),a=document.getElementById("content"),c=window.pageYOffset;0===c?a.classList.add("glow"):a.classList.remove("glow");c<window.innerHeight-300?(b.classList.remove("substrate"),b.style.top=Math.floor((window.innerHeight-c)/2-b.getBoundingClientRect().height/2)+"px"):b.classList.add("substrate")});
window.addEventListener("scroll",function(){var b=document.getElementById("pinned_top"),a=document.getElementById("content"),c=window.pageYOffset;0===c?a.classList.add("glow"):a.classList.remove("glow");c<window.innerHeight-300?(b.classList.remove("substrate"),b.style.top=Math.floor((window.innerHeight-c)/2-b.getBoundingClientRect().height/2)+"px"):b.classList.add("substrate")});function n(){this.y=this.x=0}function p(b,a,c){this.x=b;this.y=a;this.z=c}
function k(){this.b=[];var b=q,a={g:10};this.c=a.c||1E3;this.g=a.g||3;this.speed=a.speed||150;this.h=a.h||150;this.method=a.j||b;this.i=0;this.origin=new n;this.canvas=document.getElementById("main_canvas");this.f=this.canvas.getContext("2d");m(this);this.f.font="18px Arial";r(this);for(b=this.b.length=0;b<this.h;b++)this.b.push(new p(t(-this.canvas.width,this.canvas.width),t(-this.canvas.height,this.canvas.height),t(1,this.c)))}
function m(b){var a=window.innerWidth,c=window.innerHeight-50;b.canvas.width=a;b.canvas.height=c;b.canvas.style.width=a+"px";b.canvas.style.height=c+"px";b.a=b.f.getImageData(0,0,b.canvas.width,b.canvas.height);r(b)}function r(b){b.origin.x=b.canvas.width/2;b.origin.y=b.canvas.height/2}var q="rects";
function l(b){for(var a=h,c=.001*a.speed*(b-a.i),e=0;e<a.b.length;e++){var f=a.b[e];f.z-=c;0>=f.z&&(f.x=t(-a.canvas.width,a.canvas.width),f.y=t(-a.canvas.height,a.canvas.height),f.z=a.c)}if("rects"===a.method)for(a.f.fillStyle="rgb(255,255,255)",a.f.clearRect(0,0,a.canvas.width,a.canvas.height),c=0;c<a.b.length;c++){e=a.b[c];f=256/e.z;var d=(a.c-e.z)/a.c*a.g;a.f.fillRect(e.x*f+a.origin.x,e.y*f+a.origin.y,d,d)}else{e=a.a.data.length;c=4*a.a.width;for(d=0;d<e;d++)a.a.data[d]=0;for(e=0;e<a.b.length;e++){f=
a.b[e];var g=256/f.z;d=Math.floor(f.x*g+a.origin.x);g=Math.floor(f.y*g+a.origin.y);0<d&&d<a.canvas.width&&0<g&&g<a.canvas.height&&(d=g*c+4*d,a.a.data[d]=255,a.a.data[d+1]=255,a.a.data[d+2]=255,a.a.data[d+3]=(a.c-f.z)/a.c*255)}a.f.putImageData(a.a,0,0)}a.i=b;window.requestAnimationFrame(l)}function t(b,a){return b+Math.random()*(a-b)};
