var h=null;function k(){var b=document.getElementById("pinned_top"),a=document.getElementById("content"),d=document.getElementById("header"),c=window.pageYOffset;0===c?a.classList.add("glow"):a.classList.remove("glow");c<window.innerHeight-200?(b.classList.remove("substrate"),b.style.top=Math.floor((window.innerHeight-c)/2-b.getBoundingClientRect().height/2)+"px",d.classList.remove("visible")):(b.classList.add("substrate"),d.classList.add("visible"))}
function l(b){for(var a=h,d=.001*a.speed*(b-a.i),c=0;c<a.b.length;c++){var f=a.b[c];f.z-=d;0>=f.z&&(f.x=m(-a.canvas.width,a.canvas.width),f.y=m(-a.canvas.height,a.canvas.height),f.z=a.c)}if("rects"===a.method)for(a.f.fillStyle="rgb(255,255,255)",a.f.clearRect(0,0,a.canvas.width,a.canvas.height),d=0;d<a.b.length;d++){c=a.b[d];f=256/c.z;var e=(a.c-c.z)/a.c*a.g;a.f.fillRect(c.x*f+a.origin.x,c.y*f+a.origin.y,e,e)}else{c=a.a.data.length;d=4*a.a.width;for(e=0;e<c;e++)a.a.data[e]=0;for(c=0;c<a.b.length;c++){f=
a.b[c];var g=256/f.z;e=Math.floor(f.x*g+a.origin.x);g=Math.floor(f.y*g+a.origin.y);0<e&&e<a.canvas.width&&0<g&&g<a.canvas.height&&(e=g*d+4*e,a.a.data[e]=255,a.a.data[e+1]=255,a.a.data[e+2]=255,a.a.data[e+3]=(a.c-f.z)/a.c*255)}a.f.putImageData(a.a,0,0)}a.i=b;window.requestAnimationFrame(l)}function m(b,a){return b+Math.random()*(a-b)}window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;
window.addEventListener("load",function(){h=new n;var b=document.getElementById("pinned_top");b.style.top=Math.floor(window.innerHeight/2-b.getBoundingClientRect().height/2)+"px";document.getElementById("content").classList.add("glow");window.requestAnimationFrame(l)});window.addEventListener("resize",function(){p(h);k()});window.addEventListener("scroll",k);function n(){this.b=[];var b=q,a={g:10};this.c=a.c||1E3;this.g=a.g||3;this.speed=a.speed||150;this.h=a.h||150;this.method=a.j||b;this.i=0;this.origin=new r;this.canvas=document.getElementById("main_canvas");this.f=this.canvas.getContext("2d");p(this);this.f.font="18px Arial";t(this);for(b=this.b.length=0;b<this.h;b++)this.b.push(new u(m(-this.canvas.width,this.canvas.width),m(-this.canvas.height,this.canvas.height),m(1,this.c)))}
function p(b){var a=window.innerWidth,d=window.innerHeight-50;b.canvas.width=a;b.canvas.height=d;b.canvas.style.width=a+"px";b.canvas.style.height=d+"px";b.a=b.f.getImageData(0,0,b.canvas.width,b.canvas.height);t(b)}function t(b){b.origin.x=b.canvas.width/2;b.origin.y=b.canvas.height/2}var q="rects";function r(){this.y=this.x=0}function u(b,a,d){this.x=b;this.y=a;this.z=d};
